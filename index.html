---
# this is an empty front matter
---

<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<link href='js/fullcalendar.min.css' rel='stylesheet' />
<link href='js/fullcalendar.print.css' rel='stylesheet' media='print' />
<script src='js/moment.js'></script>
<script src="js/jquery-3.1.1.min.js"></script>
<script src='js/fullcalendar.min.js'></script>
<script src='js/locale-all.js'></script>



<script>
	
	// criar json-ld, fb open graph e twitter card
	var dados = {{ site.data.output.dados | jsonify }};
	var ld = {"blocos": []};
	ld["@context"] = "http://schema.org";
	dados.forEach(function(d){
		console.log(d.bloco);
		ld.blocos.push({
			"@type": "MusicEvent",
			"location": {
		      "@type": "Place",
		      "name": d["local da concentracao"],
		      "address": d["local da concentracao"] + ", " + d.bairro + ", " + "Rio de Janeiro",
		    },
		    "name": d.bloco,
		    "performer": [
		      {
		        "@type": "Organization",
		        "name": d.bloco
		      }
		    ],
		    "startDate": d.desfile,
		    "endDate": d.final
		});
	});

	var script = document.createElement( 'script' );
	script.type = 'application/ld+json';
	var t = document.createTextNode(ld,null,2);
	script.appendChild(t);
	$("head").append(script);


	function listarEventos() {
		var dados = {{ site.data.output.dados | jsonify }};
		var eventos = [];
		dados.forEach(function(d){
			eventos.push({
				"title": d.bloco + " - " + d.bairro,
				"start": d.desfile,
				"end": d.final
			});
		});
		return eventos;
	}


	$(document).ready(function() {
		
		$('#calendar').fullCalendar({
			header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,agendaWeek,agendaDay,listWeek'
			},
			locale: "pt-br",
			defaultDate: '2017-02-17',
			navLinks: true, // can click day/week names to navigate views
			editable: false,
			eventLimit: true, // allow "more" link when too many events
			events: listarEventos()
		});
		
	});

</script>

<style>

	body {
		margin: 40px 10px;
		padding: 0;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
		font-size: 14px;
	}

	#calendar {
		max-width: 900px;
		margin: 0 auto;
	}

</style>
</head>
<body>

	<div id='calendar'></div>

</body>
</html>